<?xml version="1.0"?>
<odoo>
    <!-- Definició de la vista tree per a estate.property -->
    <record id="view_estate_property_tree" model="ir.ui.view">
        <field name="name">estate.property.tree</field>
        <field name="model">estate.property</field>
        <field name="arch" type="xml">
            <tree string="Propietats">
                <field name="name"/>
                <field name="property_type_id"/>
                <field name="postal_code"/>
                <field name="availability_date"/>
                <field name="sale_price"/>
                <field name="expected_sale_price"/>
                <field name="salesman"/>
                <field name="buyer"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <!-- Definició de l'acció per mostrar la vista tree de estate.property -->
    <record id="estate_property_action" model="ir.actions.act_window">
        <field name="name">Propietats</field>
        <field name="res_model">estate.property</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_estate_property_tree"/>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">Crea una nova propietat immobiliària</p>
        </field>
    </record>

    <!-- Assignació de l'acció com a primera vista en accedir a l'aplicació -->
    <record id="action_estate_property" model="ir.actions.act_window">
        <field name="name">Propietats</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">estate.property</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_estate_property_tree"/>
    </record>

     <!-- Vista principal per a la propietat immobiliària -->
    <record id="view_estate_property_form" model="ir.ui.view">
        <field name="name">estate.property.form</field>
        <field name="model">estate.property</field>
        <field name="arch" type="xml">
            <form string="Propietat Immobiliària">
                <group>
                    <group>
                        <field name="postal_code"/>
                        <field name="availability_date"/>
                        <field name="expected_sale_price"/>
                        <field name="best_offer"/>
                    </group>
                    <group>
                        <field name="state"/>
                        <field name="property_type_id"/>
                    </group>
                </group>
                <notebook>
                    <!-- Pestanya per a la descripció -->
                    <page string="Descripció">
                        <group>
                            <field name="description" widget="html" placeholder="Introdueix una descripció detallada de la propietat"/>
                            <field name="tags" widget="many2many_tags"/>
                            <field name="num_bedrooms"/>
                            <field name="elevator"/>
                            <field name="parking"/>
                            <field name="renovated"/>
                            <field name="num_bathrooms"/>
                            <field name="surface_area"/>
                            <field name="price_per_sqm"/>
                            <field name="construction_year"/>
                            <field name="energy_certificate"/>
                        </group>
                    </page>
                    <!-- Pestanya per a les ofertes -->
                    <page string="Ofertes">
                        <field name="offers">
                            <tree string="Ofertes">
                                <field name="price"/>
                                <field name="state"/>
                                <field name="buyer_id"/>
                                <field name="comments"/>
                            </tree>
                        </field>
                    </page>
                </notebook>
            </form>
        </field>
    </record>
</odoo>